<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">
  <link rel="preload" href="./css/style.css" as="style">
  <link rel="stylesheet" href="./css/style.css">
  <title>Fago Sports - Conclusão da Compra</title>
  <link rel="icon" href="./imgs/favicon.svg" type="image/svg+xml">
  <meta name="description" content="Energia e desempenho para todos os níveis e esportes.">
</head>

<body>
  <header>
    <nav aria-label="primaria">
      <div class="logo">
        <a href="./"><img src="./imgs/Logo.svg" alt="logo Fago" width="253" height="34"></a>
      </div>
      <div class="menu">
        <img src="./imgs/cart.svg" alt="">
        <a href="./login.html" class="login">Faça seu login</a>
      </div>
    </nav>
  </header>

  <section class="conclusao-compra">
    <h1 class="titulo grande">Compra Concluída com Sucesso!</h1>
    <p class="sub-titulo sm">Agradecemos pela sua compra. Seu pedido está sendo processado.</p>
    <div class="detalhes-pedido">
      <h2>Detalhes do Pedido:</h2>
      <ul id="pedido-details">
        <li><strong>Produto:</strong> <span id="produtoNomeExibido"></span></li>
        <li><strong>Quantidade:</strong> <span id="quantidade"></span></li> <!-- Atualizado para 'quantidade' -->
        <li><strong>Preço:</strong> <span id="precoTotal"></span></li> <!-- Atualizado para 'precoTotal' -->
      </ul>
    </div>
    <div class="informacoes-contato">
      <h2>Informações de Contato:</h2>
      <p>Se você tiver dúvidas, entre em contato conosco pelo e-mail: suporte@fagosports.com.br</p>
    </div>

    <a href="./index.html" class="botao-retornar">Voltar para a página inicial</a>
  </section>

  <footer>
    <div class="minhaConta">
      <ul>
        <li><h1>Minha Conta</h1></li>
        <li><a href="">Minha Conta</a></li>
        <li><a href="">Meus Pedidos</a></li>
        <li><a href="">Pagamentos</a></li>
      </ul>
    </div>
    <div class="institucional">
      <ul>
        <li><h1>Institucional</h1></li>
        <li><a href="">História</a></li>
        <li><a href="">Depoimentos</a></li>
        <li><a href="">Código do Consumidor</a></li>
        <li><a href="">Política de Privacidade</a></li>
      </ul>
    </div>
    <div class="meiosPagamentos">
      <ul>
        <li><h1>Meios de Pagamento</h1></li>
        <li><img src="./imgs/pix.png" alt="" width="57.78"></li>
        <li><img src="./imgs/picpay.png" alt="" width="60"></li>
        <li><img src="./imgs/mastercard.png" alt="" width="25.56"></li>
        <li><img src="./imgs/visa.png" alt="" width="56.92"></li>
        <li><img src="./imgs/americanexpress.png" alt="" width="56.92"></li>
        <li><img src="./imgs/paypal.png" alt="" width="84"></li>
      </ul>
    </div>
    <div class="redesSociais">
      <ul>
        <li><h1>Redes Sociais</h1></li>
        <li><img src="./imgs/instagram.png" alt="" width="20"></li>
        <li><img src="./imgs/facebook.png" alt="" width="20"></li>
        <li><img src="./imgs/twitter.png" alt="" width="20"></li>
        <li><img src="./imgs/tiktok.png" alt="" width="20"></li>
      </ul>
    </div>
  </footer>
  
  <div class="copy">Copyright © FagoSports 2024 | Imagens meramente ilustrativas | Design feito por Fabiano Gomes | Desenvolvido por Fabiano Gomes</div>

  <script type="module" async>
    // Verifica se o usuário está logado
    const isLoggedIn = localStorage.getItem('loggedIn');
    const menu = document.querySelector('.menu');

    if (isLoggedIn) {
      // Código do cabeçalho logado
      menu.innerHTML = `
        <div id="carrinho">
          <div class="modal-carrinho hidden">
            <h1 class="titulo cor-3">Carrinho está vazio</h1>
            <div class="cart-actions"></div>
          </div>
          <span id="numero">0</span>
          <img src="./imgs/cart.svg" alt="Carrinho">
        </div>
        <div class="perfil">
          <div class="bg-perfil">
            <img src="./imgs/FotoPerfil.svg" alt="" id="perfilImg">
            <div class="modal-perfil hidden">
              <div class="perfil">
                <img src="./imgs/user-circle.svg" alt="">
                <h1 class="titulo cor-3 medio">Meu perfil</h1>
              </div>
              <div class="logout">
                <img src="./imgs/logout.svg" alt="">
                <h1 class="titulo alert medio" id="logoutLink">Sair</h1>
              </div>
            </div>
          </div>
        </div>
      `;

      // Adiciona o evento de clique na imagem do perfil para mostrar/ocultar o dropdown
      const perfilImg = document.getElementById('perfilImg');
      const modalPerfil = document.querySelector('.modal-perfil');

      perfilImg.addEventListener('click', () => {
        modalPerfil.classList.toggle('hidden');
      });

      // Função de logout
      const logoutLink = document.getElementById('logoutLink');
      if (logoutLink) {
        logoutLink.addEventListener('click', function() {
          localStorage.removeItem('loggedIn');
          window.location.reload(); // Recarrega a página
        });
      }
    } else {
      // Código do cabeçalho deslogado
      menu.innerHTML = `
        <img src="./imgs/cart.svg" alt="">
        <a href="./login.html" class="login">Faça seu login</a>
      `;
    }

    
    // Recupera os detalhes do pedido do localStorage
    
    // Recupera os detalhes do pedido do localStorage
    // Recupera o nome do produto armazenado no localStorage

// Recupera o nome do produto do localStorage
const produtoNomeExibido = localStorage.getItem('produtoNome');

// Exibe o nome do produto na página de compra concluída


    // Recupera o nome do produto do localStorage
// Recupera o nome do produto do localStorage
document.querySelector('#produtoNomeExibido').textContent = produtoNomeExibido || 'Camisa Real Madrid - Home';



const quantidadeTotal = localStorage.getItem('quantidadeTotal'); // Usar a mesma chave que você quer
    const precoTotal = localStorage.getItem('precoTotal'); // Usar a mesma chave que você quer

    // Preenche os detalhes do pedido na página
    
 

    document.getElementById('quantidade').textContent = quantidadeTotal || '0'; // Atualizado para usar a chave correta
    document.getElementById('precoTotal').textContent = precoTotal ? `R$ ${parseFloat(precoTotal).toFixed(2).replace('.', ',')}` : 'R$ 0,00'; 
    
    
    // Atualizado para usar a chave correta

  </script>

  <style>
    /* Estilo para esconder elementos */
    .hidden {
      display: none;
    }

    /* Estilo para o carrinho e o perfil */
    #carrinho,
    .perfil {
      position: relative;
      cursor: pointer;
      display: flex;
      align-items: center; /* Alinha os itens verticalmente */
      margin-right: 20px; /* Espaço à direita para evitar encostar */
    }

    .modal-carrinho {
      top: 30px;
      right: -10px;
    }

    /* Evita overflow na página */
    body {
      overflow-x: hidden; /* Impede a rolagem horizontal */
    }
  </style>

</body>

</html>
    